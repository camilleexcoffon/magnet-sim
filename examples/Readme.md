# Examples

This directory contains examples demonstrating how to use the magnet-sim package.

## Files

### `basic_simulation.py`
A complete example showing:
- How to create sample data files
- Single circuit simulation with PID control
- Basic result analysis and plotting

### `data/` (generated by examples)
Sample data files created by the examples:
- `resistance_circuit.csv`: Current-dependent resistance data
- `inductance_matrix.csv`: Inductance matrix for circuit coupling
- `inputs_circuits_voltages.csv`: Target current profiles or voltage inputs

## Running the Examples

1. **Basic Simulation Example**:
   ```bash
   cd examples
   python basic_simulation.py
   ```
   This will:
   - Create sample data files in the `data/` directory
   - Run a single-circuit PID simulation
   - Display plots of the results
   - Print simulation statistics

2. **Command-line Examples**:
   ```bash
   # Run with default parameters
   magnet-sim
   
   # Custom multi-circuit simulation
   magnet-sim --n-circuits 2 \
             --resistance-files data/resistance_circuit.csv data/resistance_circuit.csv \
             --inductance-file data/inductance_matrix_2x2.csv \
             --inputs-file data/targets_2circuits.csv \
             --mode pid \
             --t-end 100 \
             --save
   
   # Voltage mode simulation
   magnet-sim --mode voltage \
             --inputs-file data/voltages.csv \
             --t-end 50
   ```

## Understanding the Output

The examples will generate plots showing:

1. **Input Profiles**: Target currents (PID mode) or applied voltages
2. **Individual Circuit Responses**: Current or voltage responses for each circuit
3. **Resistance Evolution**: How resistance changes with current
4. **Error Analysis**: Tracking performance and comparison with experimental data

## Customizing the Examples

You can modify the examples to:
- Change simulation parameters (time span, number of circuits)
- Use different resistance models
- Modify inductance coupling strengths
- Create custom input profiles
- Experiment with different PID parameters

## Data File Formats

### Resistance File (`resistance_circuit.csv`)
```csv
current,resistance
0,0.001
10,0.0011
20,0.0012
...
```

### Inductance Matrix (`inductance_matrix.csv`)
```csv
0.001,0.0001
0.0001,0.001
```

### Input File (`inputs_circuits_voltages.csv`)
For PID mode (target currents):
```csv
time,current1,current2
0,0,0
1,10,5
2,20,10
...
```

For voltage mode:
```csv
time,voltage1,voltage2
0,0,0
1,1.5,1.0
2,2.0,1.5
...
```

## Next Steps

After running the examples:
1. Try modifying the parameters in `basic_simulation.py`
2. Create your own data files with different resistance curves
3. Experiment with multi-circuit simulations
4. Compare different control strategies (PID vs voltage mode)